<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Ontario Elections 2018: Youtube Recommendation RankFlow</title>

	<meta name="viewport" content="width=device-width, initial-scale=1">

	<script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="../js/moment.js"></script>
	<script type="text/javascript" src="../js/papaparse.min.js"></script>

	<script src="../js/FileSaver.js"></script>
	<script src="../js/jszip.min.js"></script>


	<script src="../js/uikit.min.js"></script>
	<script src="../js/uikit-icons.min.js"></script>

	<script type="text/javascript" src="./md5/js/md5.min.js"></script>
	<script type="text/javascript" src="./js/raphael-min.js"></script>

	<script type="text/javascript" src="./main.js"></script>
	<script type="text/javascript" src="./vis.js"></script>

	<script type="text/javascript" src="./rankFlowParser.js"></script>
	
	<link rel="stylesheet" href="../css/uikit.min.css" />
	<link rel="stylesheet" type="text/css" href="main.css" />

</head>

<body>

<div class="uk-section uk-section-muted">
	<div class="uk-container uk-container-small">
		<h1 class="uk-h1">Ontario Elections 2018<br/><span class="uk-h2">Youtube Recommendation RankFlow</span></h1>
	
		<p>This is a visualization tool that allows for analyzing changes in ranked and (if desired) valued lists over time. The rank is based on the number of recommendation for each video per day according to the term searched.</p>

		<p>This tool also calculates the Rank-Biased Distance (RBD) metric to quantify changes from one slice to the next. The higher the RBD value, the more change. The "RBD p" parameter (value is between 0.01 and 0.99) below allows to determine how
		"top-weighed" the calculation should be. With a small p, changes at the top of the lists are weighed more strongly, with p approaching 1 all changes are treated the same. Calculations are based on William Webber, Alistair Moffat, and Justin Zobel (2010)
		"A similarity measure for indefinite rankings." ACM Transactions on Information Systems 28(4), 20. (<a href="http://dl.acm.org/citation.cfm?id=1852106" target="_blank">ACM library</a> / <a href="http://blog.mobile.codalism.com/research/papers/wmz10_tois.pdf" target="_blank">preprint</a>)</p>
		
		<p>Inspired by <a href="http://labs.polsys.net/tools/rankflow/" target="_blank">Bernhard Rieder's Rank Flow tool.</a></p>
	</div>
</div>

<div class="uk-section uk-section-small">
	<div class="uk-container">
		<h3 class="uk-h3">Search Terms</h3>
		<ul class="uk-subnav uk-subnav-pill" uk-switcher>
			<li><a href="#" onclick="selectTerm('ontario_politics')">Ontario Politics</a></li>
			<li><a href="#" onclick="selectTerm('ontario_election')">Ontario Election</a></li>
			<li><a href="#" onclick="selectTerm('kathleen_wynne')">Kathleen Wynne</a></li>
			<li><a href="#" onclick="selectTerm('doug_ford')">Doug Ford</a></li>
			<li><a href="#" onclick="selectTerm('andrea_horwath')">Andrea Horwath</a></li>
			<li><a href="#" onclick="selectTerm('mike_schreiner')">Mike Schreiner</a></li>
		</ul>
	</div>
</div>

<div class="uk-section">
	<div class="uk-container uk-container-expand">
		<div class="uk-text-center" uk-grid>
			<div class="uk-width-auto"></div>
			<div class="uk-width-expand">
				<div id="spiner" uk-spinner="ratio: 3"></div>
				<div class="uk-panel uk-overflow-auto">
					<div id="visualization"></div>
				</div>
			</div>
			<div class="uk-width-auto"></div>
		</div>
	</div>
</div>

<div class="uk-section uk-section-muted">
	<div class="uk-container uk-container-small">
		<div class="uk-grid" uk-grid>

			<div class="uk-width-1-3@s uk-text-small">
				<h4 class="uk-heading-line"><span>Options</span></h4>
				<div id="vis_interface"></div>
				<div class="uk-margin-top">
					<button id="vis_svg" class="uk-button uk-button" onclick="encode_as_img_and_link()">Generate SVG</button>
					<span id="svgdown"></span>
				</div>
			</div>

			<div class="uk-width-2-3@s">
				<h5 class="uk-heading-line uk-text-muted"><span>must regenerate</span></h5>
				<div class="uk-grid" uk-grid>
					<div class="uk-width-2-3@s uk-text-small">
						<div>
							<label><input id="vis_log" class="uk-checkbox" type="checkbox" checked> Make uservariable logarithmic for bar height calculation<br/><span class="uk-text-muted">(useful if the differences between smallest and greatest value are very big, ignored in single column mode)</span></label>
						</div>
						<div class="uk-margin-small-top">
							<label><input id="vis_ranksize" class="uk-checkbox" type="checkbox"> Use inverse rank for bar size in single column mode <br/><span class="uk-text-muted">(ignored in two column mode)</span></label>
						</div>
						<div class="uk-margin-small-top">
							<label><input id="vis_limitlabel" class="uk-checkbox" type="checkbox"> Shorten labels<br/><span class="uk-text-muted">(if text is too long)</span></label>
						</div>
					</div>
					
					<div class="uk-width-1-3@s uk-text-small">
						<div>Size</div>
						<div>
							<input id="vis_width" class="uk-input uk-form-width-xsmall" type="text" value="1200">/<input id="vis_height" class="uk-input uk-form-width-xsmall" type="text" value="700">
						</div>
		
						<div class="uk-margin-top">
							<div class="uk-form-label">RBD</div>
							<input id="vis_alpha" class="uk-range" type="range" value="0.8" min="0" max="1" step="0.1">
						</div>
		
						<div class="uk-margin-top">
							<button class="uk-button uk-button" onclick="selectTerm(selecteTerm)">Regenerate</button>
						</div>
					</div>
		
				</div>
			</div>
		</div>
	</div>
</div>

<div class="uk-section uk-section">
	<div class="uk-container">

		<h3 class="uk-h3">Rank-Biased Distances</h3>
		<div class="uk-panel uk-overflow-auto uk-text-small">
			<div id="vis_rbd"></div>
		</div>

		<h3 class="uk-h3">Entities Table</h3>
		<div class="uk-panel uk-overflow-auto uk-text-small">
			<div id="vis_table"></div>
		</div>
		
		<div id="pythonout"></div>

	</div>
</div>



</body>
</html>

                                                            
                                                            